@model UserVM
@{
    ViewData["Title"] = "ChangeRole";
}

<div class="col-lg-12 grid-margin stretch-card">
    <div class="card">
        <form method="post">
            <div class="card-body">
                <h4 class="card-title">Users</h4>
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th> Name </th>
                                <th> Surname </th>
                                <th> Email </th>
                                <th> Role </th>
                                <th> IsDeleted </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td> @Model.Name </td>
                                <td> @Model.Surname </td>
                                <td> @Model.Email </td>
                                <th> @Model.Role </th>
                                @if (Model.IsDeleted)
                                {
                                    <td style="color:red">
                                        Disabled
                                    </td>
                                }
                                else
                                {
                                    <td style="color:forestgreen">
                                        Enabled
                                    </td>
                                }
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="col-md-6">
                    @foreach (string role in Model.Roles)
                    {
                        if (Model.Role == role)
                        {
                            <div class="mt-3 form-group">
                                <input type="radio" name="role" checked value="@role" /> @role
                            </div>
                        }
                        else
                        {
                            <div class="mt-3 form-group">
                                <input type="radio" name="role" value="@role" /> @role
                            </div>
                        }

                    }
                </div>
                <div class="col-md-6">
                    @if (Model.Role == "CourseModerator")
                    {
                        <ul>

                        </ul>
                    }
                </div>
                <div class="mt-3">
                    <h4 class="text-danger">Are you sure?</h4>
                    @if (User.Identity.Name != Model.Username)
                    {
                        <button type="submit" asp-route-id="@Model.Id" class="btn btn-outline-danger">
                            Change Role
                        </button>
                    }
                    <a class="btn btn-outline-secondary" asp-controller="User" asp-action="Index">Go Back</a>
                </div>
            </div>
        </form>
    </div>
</div>

